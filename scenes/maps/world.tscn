[gd_scene load_steps=12 format=3 uid="uid://c4tmuahbrvodu"]

[ext_resource type="PackedScene" uid="uid://chx0th40f3qwq" path="res://scenes/actors/player.tscn" id="1_55aix"]
[ext_resource type="Texture2D" uid="uid://u43owmv8pjvk" path="res://assets/textures/texture_01.png" id="2_lvkeh"]
[ext_resource type="PackedScene" uid="uid://blg2a01ntsib6" path="res://scenes/misc/camera.tscn" id="3_74gp3"]
[ext_resource type="Script" uid="uid://4ou54ceikufh" path="res://scripts/door.gd" id="3_lvkeh"]
[ext_resource type="PackedScene" uid="uid://bbdtk2go5w7hj" path="res://scenes/actors/enemy.tscn" id="4_pq5yi"]
[ext_resource type="PackedScene" uid="uid://bqtlyoaxnnedf" path="res://scenes/misc/weapon_pickup.tscn" id="6_74gp3"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_rwgxs"]
sky_top_color = Color(0.622333, 0.685203, 0.772828, 1)
sky_horizon_color = Color(0.662243, 0.671743, 0.686743, 1)
ground_horizon_color = Color(0.662243, 0.671743, 0.686743, 1)

[sub_resource type="Sky" id="Sky_4wyf3"]
sky_material = SubResource("ProceduralSkyMaterial_rwgxs")

[sub_resource type="Environment" id="Environment_k0juu"]
background_mode = 2
sky = SubResource("Sky_4wyf3")
tonemap_mode = 2
glow_enabled = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_4wyf3"]
albedo_texture = ExtResource("2_lvkeh")
uv1_scale = Vector3(20, 20, 20)

[sub_resource type="BoxShape3D" id="BoxShape3D_lvkeh"]
size = Vector3(2, 3, 2)

[node name="World" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_k0juu")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866025, -0.433013, 0.25, 0, 0.5, 0.866025, -0.5, 0.75, -0.433013, 9.04882, 9.52569, 0)
light_color = Color(1, 0.991667, 0.9, 1)
shadow_enabled = true
metadata/_edit_lock_ = true

[node name="Entities" type="Node3D" parent="."]
metadata/_edit_lock_ = true

[node name="Player" parent="Entities" node_paths=PackedStringArray("camera") instance=ExtResource("1_55aix")]
camera = NodePath("../../CameraBase/CameraPivot/Camera")
metadata/_edit_lock_ = true
metadata/_edit_group_ = true

[node name="Skeleton3D" parent="Entities/Player/Model/Armature" index="0"]
bones/0/position = Vector3(0.00325826, 0.931307, -0.00576019)
bones/0/rotation = Quaternion(-0.0399685, -0.365293, -0.0146498, 0.929919)
bones/1/rotation = Quaternion(-0.0129466, 0.040209, -0.00528364, 0.999093)
bones/2/rotation = Quaternion(0.0955947, 0.0816663, -0.00718199, 0.992039)
bones/3/rotation = Quaternion(0.152507, 0.0810735, -0.0118839, 0.9849)
bones/4/rotation = Quaternion(-0.0123086, -0.0108248, 0.00164226, 0.999864)
bones/5/rotation = Quaternion(-0.0374025, 0.176218, -0.00508492, 0.983627)
bones/7/rotation = Quaternion(-0.479714, -0.534662, 0.567078, -0.40303)
bones/8/rotation = Quaternion(0.533372, -0.0544403, 0.134103, 0.833407)
bones/9/rotation = Quaternion(-0.00752592, 0.0632784, 0.414744, 0.907704)
bones/10/rotation = Quaternion(-0.123932, 0.136945, 0.0124818, 0.982716)
bones/11/rotation = Quaternion(0.304729, -0.00554214, 0.147301, 0.940963)
bones/12/rotation = Quaternion(-0.00685448, 0.000679329, 0.00054876, 0.999976)
bones/15/rotation = Quaternion(0.0414844, -0.00588659, 0.0616876, 0.997216)
bones/16/rotation = Quaternion(0.154509, -0.0009803, -0.00555689, 0.987975)
bones/19/rotation = Quaternion(0.529005, -0.49734, 0.535544, 0.431277)
bones/20/rotation = Quaternion(0.507068, 0.0313297, 0.0975577, 0.855794)
bones/21/rotation = Quaternion(0.0593836, 0.00635913, -0.363752, 0.929579)
bones/22/rotation = Quaternion(0.102691, -0.0513087, -0.0922962, 0.989092)
bones/23/rotation = Quaternion(0.230772, 0.1416, -0.195447, 0.9426)
bones/24/rotation = Quaternion(-0.0437301, 0.00173999, 0.185717, 0.981628)
bones/27/rotation = Quaternion(0.0374146, 0.00961628, 0.0101866, 0.999202)
bones/28/rotation = Quaternion(0.146272, 0.000216124, 0.0099285, 0.989195)
bones/31/rotation = Quaternion(0.0790456, 0.211247, 0.9686, -0.104595)
bones/32/rotation = Quaternion(-0.31024, 0.120817, -0.0406575, 0.942073)
bones/33/rotation = Quaternion(0.578862, -0.0217477, -0.0288053, 0.814626)
bones/34/rotation = Quaternion(0.247628, -0.0177475, -0.0402507, 0.967856)
bones/36/rotation = Quaternion(-0.125237, 0.0118585, 0.983481, 0.130151)
bones/37/rotation = Quaternion(-0.295955, 0.077167, -0.0176419, 0.951916)
bones/38/rotation = Quaternion(0.67775, 0.0710854, 0.0995253, 0.725049)
bones/39/rotation = Quaternion(0.243009, 0.0359372, 0.0125148, 0.969277)

[node name="Map" type="Node3D" parent="."]
metadata/_edit_lock_ = true

[node name="Ground" type="CSGBox3D" parent="Map"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.481868, 0)
use_collision = true
collision_mask = 0
size = Vector3(50, 1, 50)
material = SubResource("StandardMaterial3D_4wyf3")
metadata/_edit_lock_ = true

[node name="Door" type="Area3D" parent="Map"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -14.1534, 1.5, -22.5156)
collision_mask = 2
script = ExtResource("3_lvkeh")
scene_path = "uid://dwrs4okxl16pw"

[node name="CollisionShape3D" type="CollisionShape3D" parent="Map/Door"]
shape = SubResource("BoxShape3D_lvkeh")

[node name="Door" type="CSGBox3D" parent="Map/Door"]
collision_mask = 2
size = Vector3(2, 3, 2)

[node name="CameraBase" parent="." node_paths=PackedStringArray("camera_target") instance=ExtResource("3_74gp3")]
camera_target = NodePath("../Entities/Player/CameraTarget")
metadata/_edit_lock_ = true

[node name="Spawns" type="Node3D" parent="." groups=["SpawnGroup"]]
metadata/_edit_lock_ = true

[node name="Enemy" parent="Spawns" instance=ExtResource("4_pq5yi")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4, 0, -11)

[node name="WeaponPickup" parent="." instance=ExtResource("6_74gp3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.90603, 0, -4.96413)

[connection signal="body_entered" from="Map/Door" to="Map/Door" method="_on_body_entered"]

[editable path="Entities/Player"]
[editable path="Entities/Player/PlayerUI"]
[editable path="CameraBase"]
